<mat-card style="width: 100%;">
	<mat-card-content>
		<mat-card-title  class="mat-card-title">
			<h4 _ngcontent-c42="" class="m-0">Agregar Sucursal</h4>
		</mat-card-title>
			<form  class="mat-dialog-content" (ngSubmit)="formControl.form.valid && submit(ngForm)" #formControl="ngForm">
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								 <div class="col-md-12">
									 <agm-map class="gmap" [latitude]="latitude" [zoom]="zoom" [longitude]="longitude" [mapTypeControl]="true">
										 <agm-marker  [latitude]="latitude" [longitude]="longitude" (markerClick)="clickedMarker(m)" [markerDraggable]="true"
										 (dragEnd)="markerDragEnd($event)"></agm-marker>
									 </agm-map>
								 </div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<mat-form-field   class="col-sm-12" appearance="legacy">
										<input matInput #input  placeholder="Codigo" [(ngModel)]="model.codigoSucursal" name="codigoSucursal" disabled>
										<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
									</mat-form-field>
								</div>
								<div class="col-md-4">
									<mat-form-field   class="col-sm-12" appearance="legacy">
					      		<input matInput #input  placeholder="Nombre" [(ngModel)]="model.nombre" name="nombre" required>
					      		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
					      	</mat-form-field>
								</div>

								<div class="col-md-4">
									<mat-form-field   class="col-sm-12" appearance="legacy">
						    		<input matInput #input  placeholder="Descripcion" [(ngModel)]="model.descripcion" name="descripcion">
						    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
						    	</mat-form-field>
								</div>
								<div class="col-md-4">
									<mat-form-field   class="col-sm-12" appearance="legacy">
						    		<input matInput #input  placeholder="Direccion" [(ngModel)]="model.direccion" name="direccion" required>
						    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
						    	</mat-form-field>
								</div>
								<div class="col-md-4">
									<mat-form-field   class="col-sm-12" appearance="legacy">
						    		<input matInput #input  placeholder="Telefono" [(ngModel)]="model.telefono" name="telefono" required>
						    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
						    	</mat-form-field>
								</div>
								<div class="col-md-4">
									<mat-form-field   class="col-sm-12" appearance="legacy">
						    		<input matInput #input  placeholder="Celular" [(ngModel)]="model.telefonoMovil" name="telefonoMovil">
						    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
						    	</mat-form-field>
								</div>
								<div class="col-md-6">
									<mat-form-field   class="col-sm-12" appearance="legacy">
						    		<input matInput #input  placeholder="Email" [(ngModel)]="model.email" name="email" required>
						    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
						    	</mat-form-field>
								</div>
								<div class="col-md-6">
									<mat-form-field   class="col-sm-12" appearance="legacy">
						    		<input matInput #input  placeholder="Fax" [(ngModel)]="model.fax" name="fax">
						    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
						    	</mat-form-field>
								</div>
								<div class="col-md-12">
									<mat-form-field   class="col-sm-12" appearance="legacy">
						    		<input matInput #input  placeholder="Observacion" [(ngModel)]="model.observacion" name="observacion">
						    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
						    	</mat-form-field>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
										<a mat-stroked-button class="nav-link" class="m-t-10 float-right" (click)="addDepartment()">
											Agregar Area
										</a>
										<h3 mat-subheader>Departamentos</h3>
									  <div *ngFor="let area of model.departamentos">
											<div class="row">
												<div class="col-md-3">
													<mat-form-field   class="col-sm-12" appearance="legacy">
										    		<input matInput #input  placeholder="Alias" [(ngModel)]="area.alias" name="alias" required>
										    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
										    	</mat-form-field>
												</div>
												<div class="col-md-4">
													<mat-form-field   class="col-sm-12" appearance="legacy">
										    		<input matInput #input  placeholder="Nombre" [(ngModel)]="area.nombreArea" name="nombreArea" required>
										    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
										    	</mat-form-field>
												</div>
												<div class="col-md-4">
													<mat-form-field   class="col-sm-12" appearance="legacy">
										    		<input matInput #input  placeholder="Descripcion" [(ngModel)]="area.descripcionArea" name="descripcionArea">
										    		<mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
										    	</mat-form-field>
												</div>
														<a mat-icon-button (click)="deleteDepartment(area)"> <mat-icon>delete</mat-icon></a>
											</div>
									 </div>
								</div>
							</div>
							<button mat-button [type]="submit"  mat-raised-button>Guardar</button>
						</div>
					</div>
			</form>
		</mat-card-content>
	</mat-card>
