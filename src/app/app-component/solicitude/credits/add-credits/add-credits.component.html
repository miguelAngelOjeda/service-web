<h2 class="breadcrumb2 m-l-2"><a class="previous" routerLink="/service-web/client"> Solicitud Creditos </a> &gt; <span class="current">Agregar</span></h2>
<mat-card class="form-card">
  <mat-card-content>
        <form [formGroup]="myForm" (ngSubmit)="myForm.valid && onSubmit()">
            <div class="row">
              <div class="col-md-12">
                <div class="row">
                  <div class="col-md-12">
                    <h4  class="m-0"><mat-icon class="gray-text">account_circle</mat-icon>Solicitud</h4>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input  placeholder="Documento"   name="documento" required>
                     <mat-icon matSuffix>search</mat-icon>
                      <!-- <mat-error *ngIf="(peopleForm.controls['persona'].get('documento').errors)">
                        <span *ngIf="peopleForm.controls['persona'].get('documento').errors.required">
                         Campo requerido
                        </span>
                      </mat-error> -->
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input  placeholder="Ruc"  name="ruc">
                      <!-- <mat-icon matSuffix (click)="peopleForm.controls['persona'].get('ruc').valid && peopleRuc()">search</mat-icon>
                      <mat-error *ngIf="(peopleForm.controls['persona'].get('ruc').errors)">
                        <span *ngIf="peopleForm.controls['persona'].get('ruc').errors.required">
                         Campo requerido
                        </span>
                      </mat-error> -->
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input  placeholder="Nombre"  name="ruc">
                      <!-- <mat-icon matSuffix (click)="peopleForm.controls['persona'].get('ruc').valid && peopleRuc()">search</mat-icon>
                      <mat-error *ngIf="(peopleForm.controls['persona'].get('ruc').errors)">
                        <span *ngIf="peopleForm.controls['persona'].get('ruc').errors.required">
                         Campo requerido
                        </span>
                      </mat-error> -->
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <app-select-filter  (value)="getValue($event, 'modalidad')" [modelValue]="myForm.get('modalidad').value"
                     placeholder="Modalidad" urlFilter="modalidades" [columnsFilter]="['nombre']"></app-select-filter>
                  </div>
                  <div class="col-md-4">
                    <app-select-filter  (value)="getValue($event, 'tipoCalculoImporte')" [modelValue]="myForm.get('tipoCalculoImporte').value"
                     placeholder="Tipo Calculo" urlFilter="tipos-calculos" [columnsFilter]="['nombre']"></app-select-filter>
                  </div>
                  <div class="col-md-4">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input  placeholder="Monto" formControlName="montoSolicitado" name="montoSolicitado" required>
                      <mat-error *ngIf="(myForm.get('montoSolicitado').errors)">
                        <span *ngIf="myForm.get('montoSolicitado').errors.required">
                         Campo requerido
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <app-select-filter  (value)="getValue($event, 'tipoDestino')" [modelValue]="myForm.get('tipoDestino').value"
                     placeholder="Destino" urlFilter="tipos-destinos" [columnsFilter]="['nombre']"></app-select-filter>
                  </div>
                  <div class="col-md-8">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input  placeholder="Aclaracion Destino"  name="ruc">
                      <mat-error *ngIf="(myForm.get('modalidad').errors)">
                        <span *ngIf="myForm.get('modalidad').errors.required">
                         Campo requerido
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <app-select-filter  (value)="getValue($event, 'tipoGarantia')" [modelValue]="myForm.get('tipoGarantia').value"
                     placeholder="Tipo Garantia" urlFilter="tipos-garantias" [columnsFilter]="['nombre']"></app-select-filter>
                  </div>
                  <div class="col-md-4">
                    <app-select-filter  (value)="getValue($event, 'tipoPago')" [modelValue]="myForm.get('tipoPago').value"
                     placeholder="Forma Pago" urlFilter="tipos-pagos" [columnsFilter]="['nombre']"></app-select-filter>
                  </div>
                  <div class="col-md-4">
                    <app-select-filter  (value)="getValue($event, 'tipoDesembolso')" [modelValue]="myForm.get('tipoDesembolso').value"
                     placeholder="Forma Desembolso" urlFilter="tipos-desembolsos" [columnsFilter]="['nombre']"></app-select-filter>
                  </div>
                  <div class="col-md-3">
                    <app-select-filter  (value)="getValue($event, 'periodoCapital')" [modelValue]="myForm.get('periodoCapital').value"
                    [sortActive]="cantidadDias" [sortDirection]="asc"
                     placeholder="Periodo Capital" urlFilter="periodos-capitales" [columnsFilter]="['nombre']"></app-select-filter>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input type="number" min="0" formControlName="plazo" placeholder="Plazo"  name="plazo" required>
                      <mat-error *ngIf="(myForm.get('plazo').errors)">
                        <span *ngIf="myForm.get('plazo').errors.required">
                         Campo requerido
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input type="number" min="0" placeholder="Cant. Amortiz."  name="ruc">
                      <!-- <mat-icon matSuffix (click)="peopleForm.controls['persona'].get('ruc').valid && peopleRuc()">search</mat-icon>
                      <mat-error *ngIf="(peopleForm.controls['persona'].get('ruc').errors)">
                        <span *ngIf="peopleForm.controls['persona'].get('ruc').errors.required">
                         Campo requerido
                        </span>
                      </mat-error> -->
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input  placeholder="Vto. Interés"  name="ruc">
                      <!-- <mat-icon matSuffix (click)="peopleForm.controls['persona'].get('ruc').valid && peopleRuc()">search</mat-icon>
                      <mat-error *ngIf="(peopleForm.controls['persona'].get('ruc').errors)">
                        <span *ngIf="peopleForm.controls['persona'].get('ruc').errors.required">
                         Campo requerido
                        </span>
                      </mat-error> -->
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input type="number"  placeholder="Periodo Gracia" formControlName="periodoGracia"  name="periodoGracia" required>
                      <mat-error *ngIf="(myForm.get('periodoGracia').errors)">
                        <span *ngIf="myForm.get('periodoGracia').errors.required">
                         Campo requerido
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input type="number"  placeholder="Periodo Interés" formControlName="periodoInteres"  name="periodoInteres" required>
                      <mat-error *ngIf="(myForm.get('periodoInteres').errors)">
                        <span *ngIf="myForm.get('periodoInteres').errors.required">
                         Campo requerido
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input type="number" min="0.0" placeholder="Tasa Interés" formControlName="tasaInteres" name="tasaInteres" required>
                      <mat-error *ngIf="(myForm.get('tasaInteres').errors)">
                        <span *ngIf="myForm.get('tasaInteres').errors.required">
                         Campo requerido
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input type="number" min="0" placeholder="Cuota" formControlName="importeCuota" name="importeCuota">
                      <mat-error *ngIf="(myForm.get('importeCuota').errors)">
                        <span *ngIf="myForm.get('importeCuota').errors.required">
                         Campo requerido
                        </span>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-md-12">
                    <mat-form-field    appearance="legacy">
                      <input matInput #input  placeholder="Observacion"  name="ruc">
                      <!-- <mat-icon matSuffix (click)="peopleForm.controls['persona'].get('ruc').valid && peopleRuc()">search</mat-icon>
                      <mat-error *ngIf="(peopleForm.controls['persona'].get('ruc').errors)">
                        <span *ngIf="peopleForm.controls['persona'].get('ruc').errors.required">
                         Campo requerido
                        </span>
                      </mat-error> -->
                    </mat-form-field>
                  </div>
                  <div class="col-md-12 m-t-30">
                    <app-people></app-people>
                  </div>
                  <div class="col-md-12 m-t-30">
                    <app-reference [fkFilterModel]="myForm.value.persona.id" [minRow]="1"></app-reference>
                  </div>
                  <div class="col-md-12 m-t-30">
                    <app-occupation [fkFilterModel]="myForm.value.persona.id" [minRow]="1"></app-occupation>
                  </div>
                  <div class="col-md-12 m-t-30">
                    <app-estate [fkFilterModel]="myForm.value.persona.id"></app-estate>
                  </div>
                  <div class="col-md-12 m-t-30">
                    <app-vehicle [fkFilterModel]="myForm.value.persona.id"></app-vehicle>
                  </div>
                  <div class="col-md-12 m-t-30">
                    <div class="row">
                      <div class="col-md-6">
                        <app-ingress [fkFilterModel]="myForm.value.persona.id" [minRow]="1"></app-ingress>
                      </div>
                      <div class="col-md-6">
                        <app-egress [fkFilterModel]="myForm.value.persona.id" [minRow]="1"></app-egress>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <mat-card-actions>
              <button mat-button [type]="onSubmit"  mat-raised-button>Guardar</button>
            </mat-card-actions>
        </form>
  </mat-card-content>
</mat-card>
