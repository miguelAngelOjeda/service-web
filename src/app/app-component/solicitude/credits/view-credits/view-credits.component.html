<div class="mat-button-single-row">
  <h2 class="breadcrumb2 m-l-2"><a class="previous" routerLink="/service-web/credits"> Solicitud Creditos </a> &gt; <span class="current">Visualizar</span></h2>
  <span  style="flex: 1 1 0%; box-sizing: border-box;"></span>
  <ng-container *ngIf="myForm.get('id').value && myForm.get('estado')?.value.id == 1">
    <a mat-raised-button class="m-l-10" routerLink="/service-web/credits/{{myForm.get('id').value}}/edit">
      <i class="fa fa-pencil-square-o"></i>
       Editar
    </a>
    <a mat-raised-button class="m-l-10" (click)="delete(myForm.value)" *appCanAccess="['credits', 'deleteCredits']">
      <i  class="fa fa-times" aria-hidden="true"></i>
       Borrar
    </a>
  </ng-container>
</div>
<mat-card class="form-card">
  <mat-card-content *ngIf="myForm.get('id').value">
    <form [formGroup]="myForm">
        <div class="row">
          <div class="col-md-12 m-b-10" *ngIf="myForm.get('estado').value.id == 1">
              <button type="button" class="btn btn-secondary pull-right" (click)="transferirPropuesta(myForm.get('id').value)"><span class="font-bold">Transferir Propuesta</span></button>
          </div>
          <div class="col-md-12">
            <div class="d-flex flex-row comment-row ng-star-inserted">
              <div class="comment-text w-100">
                <div class="comment-footer">
                  <span class="text-muted pull-right"><span class="font-bold">Fecha Alta: </span>{{myForm.get('fechaPresentacion').value | date:'MM/dd/yyyy'}}</span>
                  <span class="label label-info"><span class="font-bold">Nº SOLICITUD: </span> {{myForm.get('id').value}}</span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12">
            <fieldset class="m-t-20">
              <legend><mat-icon class="gray-text">event_note</mat-icon>Propuesta Credito</legend>
              <div class="row">
                <div class="col-md-12">
                  <a class="d-flex flex-row comment-row ng-star-inserted">
                  	<div  class="p-2">
                  		<span  class="round">
                  			<img  alt="user" width="50" src="assets/images/users/1.jpg">
                  		</span>
                  	</div>
                  	<div  class="comment-text w-100 p-20">
                  		<h5  class="m-0">{{
                        (myForm.controls['cliente'].get('persona').get('primerNombre')?.value == null ? '' : myForm.controls['cliente'].get('persona').get('primerNombre')?.value)
                        + ' ' +
                        (myForm.controls['cliente'].get('persona').get('segundoNombre')?.value == null ? '' : myForm.controls['cliente'].get('persona').get('segundoNombre')?.value)
                        + ' ' +
                        (myForm.controls['cliente'].get('persona').get('primerApellido')?.value == null ? '' : myForm.controls['cliente'].get('persona').get('primerApellido')?.value)
                        + ' ' +
                        (myForm.controls['cliente'].get('persona').get('segundoApellido')?.value == null ? '' : myForm.controls['cliente'].get('persona').get('segundoApellido')?.value)
                        }}</h5>
                      <p  class="m-b-5">{{(myForm.controls['cliente'].get('persona').get('documento')?.value == null ? '' : myForm.controls['cliente'].get('persona').get('documento')?.value)
                        + (myForm.controls['cliente'].get('persona').get('ruc')?.value == null ? '' : '/' + myForm.controls['cliente'].get('persona').get('ruc')?.value)}}</p>
                  		<p *ngIf="myForm.controls['cliente'].get('persona')['controls'].profesion.value" class="m-b-5">{{myForm.controls['cliente'].get('persona')['controls'].profesion.value?.nombre}}</p>
                      <p *ngIf="myForm.controls['cliente'].get('persona').get('email')?.value" class="m-b-5">{{myForm.controls['cliente'].get('persona').get('email')?.value }}</p>
                      <p *ngIf="myForm.controls['cliente'].get('persona').get('telefonoParticular')?.value" class="m-b-5">Telf. {{
                        (myForm.controls['cliente'].get('persona').get('telefonoParticular')?.value == null ? '' : myForm.controls['cliente'].get('persona').get('telefonoParticular')?.value)
                        + ' ' +
                        (myForm.controls['cliente'].get('persona').get('telefonoSecundario')?.value == null ? '' : myForm.controls['cliente'].get('persona').get('telefonoSecundario')?.value)
                        }}</p>
                        <div class="d-flex flex-row comment-row ng-star-inserted">
                          <div class="comment-text w-100">
                            <div class="comment-footer">
                              <button type="button" class="btn btn-outline-secondary waves-effect px-3 btn-sm m-r-5" (click)="viewPeople(myForm.get('id').value, myForm.get('cliente').get('persona').get('id').value,'DEUDOR')"><i class="fa fa-eye"></i></button>
                            </div>
                          </div>
                        </div>
                  	</div>
                  </a>
                </div>
                <div class="col-sm-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Modalidad: </span> {{myForm.get('modalidad')?.value.nombre}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-sm-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Tipo Calculo: </span> {{myForm.get('tipoCalculoImporte')?.value.nombre}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-sm-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Monto: </span> {{myForm.get('montoSolicitado')?.value | number}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-sm-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Destino: </span> {{myForm.get('tipoDestino')?.value.nombre}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-sm-8">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Aclaracion Destino: </span> {{myForm.get('detalleDestino')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div [class]="(myForm.get('tipoDesembolso').value == null || myForm.get('tipoDesembolso').value.id != 2) ?  'col-md-4' : 'col-md-3'">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Tipo Garantia: </span> {{myForm.get('tipoGarantia')?.value.nombre}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div [class]="(myForm.get('tipoDesembolso').value == null || myForm.get('tipoDesembolso').value.id != 2) ?  'col-md-4' : 'col-md-3'">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Forma Pago: </span> {{myForm.get('tipoPago')?.value.nombre}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div [class]="(myForm.get('tipoDesembolso').value == null || myForm.get('tipoDesembolso').value.id != 2) ?  'col-md-4' : 'col-md-3'">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Forma Desembolso: </span> {{myForm.get('tipoDesembolso')?.value.nombre}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3" *ngIf="(myForm.get('tipoDesembolso').value != null && myForm.get('tipoDesembolso').value.id == 2)">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Beneficiario Cheque: </span> {{myForm.get('beneficiarioCheque')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Periodo Capital: </span> {{myForm.get('periodoCapital')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Plazo: </span> {{myForm.get('plazo')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Cant. Amortiz.: </span> </p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Vto. Interes: </span> {{myForm.get('vencimientoInteres')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Periodo Gracia: </span> {{myForm.get('periodoGracia')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Periodo Interés: </span> {{myForm.get('periodoInteres')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Tasa Interés Anual(%): </span> {{myForm.get('tasaInteres')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Gastos Administrativos(%): </span> {{myForm.get('gastosAdministrativos')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-4">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Observacion: </span> {{myForm.get('observacionesDepartamento')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="col-md-12">
            <fieldset class="m-t-20">
              <legend><mat-icon class="gray-text">event_note</mat-icon>Descuentos</legend>
              <div class="row">
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Impuestos: </span> {{myForm.get('impuestos')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Comision: </span> {{myForm.get('comision')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Gastos Varios: </span> {{myForm.get('gastosVarios')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Seguros: </span> {{myForm.get('seguros')?.value}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Tipo Descuento: </span> {{myForm.get('tipoDescuento')?.value === 'I-D' ? 'IMPORTE DISPONER' : 'IMPORTE SOLICITAR'}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Monto Original: </span> {{myForm.get('montoSolicitadoOriginal').value | number}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Monto Entregar: </span> {{myForm.get('importeEntregar').value | number}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
                <div class="col-md-3">
                  <mat-list>
                    <mat-list-item>
                      <p><span class="font-bold">Cuota: </span> {{myForm.get('importeCuota').value | number}}</p>
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="col-md-12" *ngIf="myForm.get('codeudor')?.get('id').value">
            <fieldset class="m-t-20">
              <legend><mat-icon class="gray-text">people_outline</mat-icon>Codeudores</legend>
              <div class="row">
                <div class="col-md-4">
                  <!-- <fieldset class="m-t-10" > -->
                    <div class="row">
                      <div class="col-md-12 w3-container w3-border w3-round-xlarge p-20">
                        <a class="d-flex flex-row comment-row ng-star-inserted p-20">
                        	<div  class="p-2">
                        		<span  class="round">
                        			<img  alt="user" width="50" src="assets/images/users/1.jpg">
                        		</span>
                        	</div>
                        	<div  class="comment-text w-100 p-l-10">
                        		<h5  class="m-0">{{
                              (myForm.controls['codeudor'].get('primerNombre')?.value == null ? '' : myForm.controls['codeudor'].get('primerNombre')?.value)
                              + ' ' +
                              (myForm.controls['codeudor'].get('segundoNombre')?.value == null ? '' : myForm.controls['codeudor'].get('segundoNombre')?.value)
                              + ' ' +
                              (myForm.controls['codeudor'].get('primerApellido')?.value == null ? '' : myForm.controls['codeudor'].get('primerApellido')?.value)
                              + ' ' +
                              (myForm.controls['codeudor'].get('segundoApellido')?.value == null ? '' : myForm.controls['codeudor'].get('segundoApellido')?.value)
                              }}</h5>
                            <p  class="m-b-5">{{(myForm.controls['codeudor'].get('documento')?.value == null ? '' : myForm.controls['codeudor'].get('documento')?.value)
                              + (myForm.controls['codeudor'].get('ruc')?.value == null ? '' : '/' + myForm.controls['codeudor'].get('ruc')?.value)}}</p>
                        		<p *ngIf="myForm.controls['codeudor']['controls']?.profesion.value" class="m-b-5">{{myForm.controls['codeudor']['controls']?.profesion.value?.nombre}}</p>
                            <p *ngIf="myForm.controls['codeudor'].get('email')?.value" class="m-b-5">{{myForm.controls['codeudor'].get('email')?.value }}</p>
                            <p *ngIf="myForm.controls['codeudor'].get('telefonoParticular')?.value" class="m-b-5">Telf. {{
                              (myForm.controls['codeudor'].get('telefonoParticular')?.value == null ? '' : myForm.controls['codeudor'].get('telefonoParticular')?.value)
                              + ' ' +
                              (myForm.controls['codeudor'].get('telefonoSecundario')?.value == null ? '' : myForm.controls['codeudor'].get('telefonoSecundario')?.value)
                              }}</p>
                              <div class="d-flex flex-row comment-row ng-star-inserted">
                                <div class="comment-text w-100">
                                  <div class="comment-footer">
                                    <button type="button" class="btn btn-outline-secondary waves-effect px-3 btn-sm m-r-5" (click)="viewPeople(myForm.get('id').value, myForm.controls['codeudor'].get('id').value,'CODEUDOR')"><i class="fa fa-eye"></i></button>
                                  </div>
                                </div>
                              </div>
                        	</div>
                        </a>
                      </div>
                    </div>
                    <!-- <legend><h6>{{
                      (myForm.controls['codeudor'].get('primerNombre')?.value == null ? '' : myForm.controls['codeudor'].get('primerNombre')?.value)
                      + ' ' +
                      (myForm.controls['codeudor'].get('segundoNombre')?.value == null ? '' : myForm.controls['codeudor'].get('segundoNombre')?.value)
                      + ' ' +
                      (myForm.controls['codeudor'].get('primerApellido')?.value == null ? '' : myForm.controls['codeudor'].get('primerApellido')?.value)
                      + ' ' +
                      (myForm.controls['codeudor'].get('segundoApellido')?.value == null ? '' : myForm.controls['codeudor'].get('segundoApellido')?.value)
                      }}</h6></legend> -->

                  <!-- </fieldset> -->
                </div>
              </div>
            </fieldset>
          </div>
          <!-- <div class="col-md-12" *ngIf="myForm.get('codeudor')?.get('id').value">
            <blockquote style="background-color: #f4f4f5;">
                <div class="row">
                  <div class="col-md-12">
                    <div class="d-flex flex-row comment-row ng-star-inserted">
                      <div class="comment-text w-100">
                        <div class="comment-footer">
                          <button type="button" class="btn btn-light pull-right" (click)="viewCodeudor(myForm.get('id').value,myForm.get('codeudor').get('id').value)"><i class="fa fa-eye"></i></button>
                          <span class="text-muted"><span class="font-bold"><h4>Codeudor</h4></span></span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-8">
                      <div class="p-l-20 p-t-10">
                        <div class="font-medium">{{
                          (myForm.controls['codeudor'].get('primerNombre')?.value == null ? '' : myForm.controls['codeudor'].get('primerNombre')?.value)
                          + ' ' +
                          (myForm.controls['codeudor'].get('segundoNombre')?.value == null ? '' : myForm.controls['codeudor'].get('segundoNombre')?.value)
                          + ' ' +
                          (myForm.controls['codeudor'].get('primerApellido')?.value == null ? '' : myForm.controls['codeudor'].get('primerApellido')?.value)
                          + ' ' +
                          (myForm.controls['codeudor'].get('segundoApellido')?.value == null ? '' : myForm.controls['codeudor'].get('segundoApellido')?.value)
                          }} </div>
                        <span class="font-16" *ngIf="myForm.controls['codeudor']['controls']?.profesion.value">{{myForm.controls['codeudor']['controls']?.profesion.value?.nombre}}</span>
                        <br *ngIf="myForm.controls['codeudor']['controls']?.profesion?.value">
                        <span class="font-16" *ngIf="myForm.controls['codeudor'].get('email')?.value">{{myForm.controls['codeudor'].get('email')?.value }}</span>
                        <br>
                        <span class="font-16" *ngIf="myForm.controls['codeudor'].get('telefonoParticular')?.value">Telf. {{
                          (myForm.controls['codeudor'].get('telefonoParticular')?.value == null ? '' : myForm.controls['codeudor'].get('telefonoParticular')?.value)
                          + ' ' +
                          (myForm.controls['codeudor'].get('telefonoSecundario')?.value == null ? '' : myForm.controls['codeudor'].get('telefonoSecundario')?.value)
                          }}</span>
                      </div>
                    </div>
                    <div class="col-sm-4" *ngIf="myForm.controls['codeudor']?.get('id')?.value">
                      <mat-list>
                        <mat-list-item>
                          <p><span class="font-bold">Documento: </span> {{myForm.controls['codeudor'].get('documento')?.value}}</p>
                        </mat-list-item>
                        <mat-list-item>
                          <p><span class="font-bold">Sexo: </span> {{myForm.controls['codeudor'].get('sexo')?.value}}</p>
                        </mat-list-item>
                      </mat-list>
                    </div>
                </div>
            </blockquote>
          </div> -->
          <div class="col-md-12  m-t-10" *ngIf="myForm.get('id').value && myForm.get('entidad').value">
            <app-view-upload [entidad]="myForm.get('entidad').value" [idEntidad]="myForm.get('id').value"></app-view-upload>
          </div>
        </div>
    </form>
  </mat-card-content>
</mat-card>
