<mat-card>
  <div class="mat-dialog-content">
    <mat-drawer-container class="example-container" style="margin: 6px; flex: 1 1 auto; background: #ffffff;" [hasBackdrop]="false">
      <mat-drawer #drawer mode="side" opened="true">
        <mat-nav-list appAccordion style="width: 200px;">
          <ng-container *ngFor="let documento of uploadForm?.get('documentos')?.value; let i = index">
            <div class=" m-b-10">
                <mat-card class="mat-card mat-focus-indicator">
                  <div class="row">
                    <div class="col-md-2">
                      <mat-checkbox [(ngModel)]="documento.checked" (change)="onCheckboxChange($event, i)" color="primary" ></mat-checkbox>
                    </div>
                    <div class="col-md-10">
                      <h3 class="m-0">
                        <font style="vertical-align: inherit;">
                          <font style="vertical-align: inherit;">{{documento?.nombreDocumento}}</font>
                        </font>
                      </h3>
                    </div>
                  </div>  
                  <div class="row">
                    <div class="col-md-12">
                      <h3 class="m-0">
                        <font style="vertical-align: inherit;">
                          <font style="vertical-align: inherit;">{{documento?.tipoDocumento?.nombre}}</font>
                        </font>
                      </h3>
                    </div>
                    
                  </div>                               
              </mat-card>
            </div>
          </ng-container>
        </mat-nav-list>
      </mat-drawer>
      <mat-drawer-content>
        <div class="row">
          <div class="col-md-9" style="min-height: 300px;">
            <ng-container *ngIf="documentModel.get('tipoArchivo').value == 'application/pdf'; else elseBlock">
              <ngx-extended-pdf-viewer [src]="url_path" useBrowserLocale="true" height="77vh"></ngx-extended-pdf-viewer>
            </ng-container>
            <ng-template #elseBlock>
              <div class="image-viewer-container">
                <ngx-imageviewer [src]="url_path"></ngx-imageviewer>
              </div>
            </ng-template>
          </div>
          <div class="col-md-3 m-t-20">
            <form [formGroup]="documentModel" (ngSubmit)="documentModel.valid && onSubmit()">
              <div class="row" fxLayout="row wrap">
                <div class="col-md-12">
                   <h4  class="m-0"><mat-icon class="gray-text">description</mat-icon>Documento</h4>
                   <br>
                </div>
                <div class="col-md-12">
                  <mat-form-field appearance="legacy">
                    <input matInput #input  formControlName="nombreDocumento" placeholder="Nombre"  name="nombreDocumento" required>
                    <mat-error *ngIf="(documentModel.get('nombreDocumento').errors)">
                      <span *ngIf="documentModel.get('nombreDocumento').errors.required">
                       Campo requerido
                      </span>
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-12">
                  <app-select-filter (value)="getValue($event, 'tipoDocumento')"
                  [modelValue]="documentModel.controls.tipoDocumento.value" placeholder="Tipo Documento" urlFilter="tipos-documentos" [columnsFilter]="['nombre','codigo']"></app-select-filter>
                </div>
                <div class="col-md-12">
                  <mat-form-field  appearance="legacy">
                   <input matInput #input formControlName="fechaVencimiento" [matDatepicker]="picker" name="fechaVencimiento" placeholder="Fecha Documento" required>
                   <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                   <mat-datepicker #picker></mat-datepicker>
                   <mat-error *ngIf="(documentModel.get('fechaVencimiento').errors)">
                    <span *ngIf="documentModel.get('fechaVencimiento').errors.required">
                     Campo requerido
                    </span>
                  </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <br>
              <mat-card-actions>
                <button mat-button [type]="onSubmit"  mat-raised-button >Guardar</button>
              </mat-card-actions>
            </form>
          </div>
        </div>
      </mat-drawer-content>
    </mat-drawer-container>
  </div>
</mat-card>
